'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var index = require('../../../aria-hidden/dist/es2015/index.js');
var Combination = require('../../../react-remove-scroll/dist/es2015/Combination.js');
var index_module$7 = require('../../react-focus-guards/dist/index.module.js');
var index_module$3 = require('../../react-primitive/dist/index.module.js');
var index_module$5 = require('../../react-presence/dist/index.module.js');
var index_module$6 = require('../../react-portal/dist/index.module.js');
var index_module$8 = require('../../react-focus-scope/dist/index.module.js');
var index_module$9 = require('../../react-dismissable-layer/dist/index.module.js');
var index_module = require('../../react-use-controllable-state/dist/index.module.js');
var index_module$1 = require('../../react-id/dist/index.module.js');
var index_module$a = require('../../react-context/dist/index.module.js');
var index_module$2 = require('../../react-compose-refs/dist/index.module.js');
var index_module$4 = require('../../primitive/dist/index.module.js');
var React = require('react');
var _extends = require('../../../@babel/runtime/helpers/esm/extends.js');

function _interopNamespace(e) {
	if (e && e.__esModule) return e;
	var n = Object.create(null);
	if (e) {
		Object.keys(e).forEach(function (k) {
			if (k !== 'default') {
				var d = Object.getOwnPropertyDescriptor(e, k);
				Object.defineProperty(n, k, d.get ? d : {
					enumerable: true,
					get: function () {
						return e[k];
					}
				});
			}
		});
	}
	n['default'] = e;
	return Object.freeze(n);
}

var React__namespace = /*#__PURE__*/_interopNamespace(React);

const[g,D]=index_module$a.createContext("Dialog");const Dialog=e=>{const{children:t,open:o,defaultOpen:r,onOpenChange:n,modal:a=!0}=e,i=React__namespace.useRef(null),[l=!1,u]=index_module.useControllableState({prop:o,defaultProp:r,onChange:n});return React__namespace.createElement(g,{triggerRef:i,contentId:index_module$1.useId(),titleId:index_module$1.useId(),descriptionId:index_module$1.useId(),open:l,onOpenChange:u,onOpenToggle:React__namespace.useCallback((()=>u((e=>!e))),[u]),modal:a},t)};const DialogTrigger=/*#__PURE__*/React__namespace.forwardRef(((e,t)=>{const o=D("DialogTrigger"),n=index_module$2.useComposedRefs(t,o.triggerRef);return React__namespace.createElement(index_module$3.Primitive.button,_extends['default']({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":E(o.open)},e,{ref:n,onClick:index_module$4.composeEventHandlers(e.onClick,o.onOpenToggle)}))}));const DialogOverlay=/*#__PURE__*/React__namespace.forwardRef(((e,t)=>{const{forceMount:o,...r}=e,a=D("DialogOverlay");return a.modal?/*#__PURE__*/React__namespace.createElement(index_module$5.Presence,{present:o||a.open},/*#__PURE__*/React__namespace.createElement(v,_extends['default']({},r,{ref:t}))):null}));const v=/*#__PURE__*/React__namespace.forwardRef(((e,t)=>{const o=D("DialogOverlay");return React__namespace.createElement(index_module$6.Portal,null,/*#__PURE__*/React__namespace.createElement(index_module$3.Primitive.div,_extends['default']({"data-state":E(o.open)},e,{ref:t})))}));const DialogContent=/*#__PURE__*/React__namespace.forwardRef(((e,t)=>{const{forceMount:o,...r}=e,a=D("DialogContent");return React__namespace.createElement(index_module$5.Presence,{present:o||a.open},a.modal?/*#__PURE__*/React__namespace.createElement(x,_extends['default']({},r,{ref:t})):/*#__PURE__*/React__namespace.createElement(C,_extends['default']({},r,{ref:t})))}));const x=/*#__PURE__*/React__namespace.forwardRef(((o,r)=>{const n=D("DialogContent"),i=React__namespace.useRef(null),l=index_module$2.useComposedRefs(r,i);return React__namespace.useEffect((()=>{const t=i.current;if(t)return index.hideOthers(t)}),[]),/*#__PURE__*/React__namespace.createElement(index_module$6.Portal,null,/*#__PURE__*/React__namespace.createElement(Combination['default'],null,/*#__PURE__*/React__namespace.createElement(b,_extends['default']({},o,{ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:index_module$4.composeEventHandlers(o.onCloseAutoFocus,(e=>{var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus();})),onPointerDownOutside:index_module$4.composeEventHandlers(o.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,o=0===t.button&&!0===t.ctrlKey;(2===t.button||o)&&e.preventDefault();})),onFocusOutside:index_module$4.composeEventHandlers(o.onFocusOutside,(e=>e.preventDefault()))}))))})),C=/*#__PURE__*/React__namespace.forwardRef(((e,t)=>{const o=D("DialogContent"),r=React__namespace.useRef(!1);return React__namespace.createElement(index_module$6.Portal,null,/*#__PURE__*/React__namespace.createElement(b,_extends['default']({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,a;(null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),t.defaultPrevented)||(r.current||null===(a=o.triggerRef.current)||void 0===a||a.focus(),t.preventDefault());r.current=!1;},onInteractOutside:t=>{var n,a;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||(r.current=!0);const i=t.target;(null===(a=o.triggerRef.current)||void 0===a?void 0:a.contains(i))&&t.preventDefault();}})))})),b=/*#__PURE__*/React__namespace.forwardRef(((e,t)=>{const{"aria-label":r,"aria-labelledby":n,"aria-describedby":a,trapFocus:c,onOpenAutoFocus:s,onCloseAutoFocus:u,...p}=e,g=D("DialogContent"),v=React__namespace.useRef(null),x=index_module$2.useComposedRefs(t,v);return index_module$7.useFocusGuards(),/*#__PURE__*/React__namespace.createElement(React__namespace.Fragment,null,/*#__PURE__*/React__namespace.createElement(index_module$8.FocusScope,{asChild:!0,loop:!0,trapped:c,onMountAutoFocus:s,onUnmountAutoFocus:u},/*#__PURE__*/React__namespace.createElement(index_module$9.DismissableLayer,_extends['default']({role:"dialog",id:g.contentId,"aria-describedby":a||g.descriptionId,"aria-labelledby":r?void 0:n||g.titleId,"aria-label":r||void 0,"data-state":E(g.open)},p,{ref:x,onDismiss:()=>g.onOpenChange(!1)}))),!1)}));function E(e){return e?"open":"closed"}const O=/*#__PURE__*/React__namespace.createContext({contentName:"DialogContent",titleName:"DialogTitle",docsSlug:"dialog"});O.Provider;const Root=Dialog;const Trigger=DialogTrigger;const Overlay=DialogOverlay;const Content=DialogContent;

exports.Content = Content;
exports.Dialog = Dialog;
exports.DialogContent = DialogContent;
exports.DialogOverlay = DialogOverlay;
exports.DialogTrigger = DialogTrigger;
exports.Overlay = Overlay;
exports.Root = Root;
exports.Trigger = Trigger;
