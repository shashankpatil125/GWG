'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var index_module = require('../../react-use-callback-ref/dist/index.module.js');
var index_module$1 = require('../../react-menu/dist/index.module.js');
var index_module$2 = require('../../react-primitive/dist/index.module.js');
var index_module$4 = require('../../react-context/dist/index.module.js');
var index_module$3 = require('../../primitive/dist/index.module.js');
var React = require('react');
var _extends = require('../../../@babel/runtime/helpers/esm/extends.js');

function _interopNamespace(e) {
	if (e && e.__esModule) return e;
	var n = Object.create(null);
	if (e) {
		Object.keys(e).forEach(function (k) {
			if (k !== 'default') {
				var d = Object.getOwnPropertyDescriptor(e, k);
				Object.defineProperty(n, k, d.get ? d : {
					enumerable: true,
					get: function () {
						return e[k];
					}
				});
			}
		});
	}
	n['default'] = e;
	return Object.freeze(n);
}

var React__namespace = /*#__PURE__*/_interopNamespace(React);

const[u,i]=index_module$4.createContext("ContextMenu");const ContextMenu=o=>{const{children:n,onOpenChange:r,dir:c,modal:i=!0}=o,[l,m]=React__namespace.useState(!1),s=React__namespace.useContext(x),p=index_module.useCallbackRef(r),f=React__namespace.useCallback((e=>{m(e),p(e);}),[p]);return s?/*#__PURE__*/React__namespace.createElement(u,{isRootMenu:!1,open:l,onOpenChange:f,modal:i},/*#__PURE__*/React__namespace.createElement(index_module$1.Sub,{open:l,onOpenChange:f},n)):/*#__PURE__*/React__namespace.createElement(u,{isRootMenu:!0,open:l,onOpenChange:f,modal:i},/*#__PURE__*/React__namespace.createElement(index_module$1.Root,{dir:c,open:l,onOpenChange:f,modal:i},n))};const ContextMenuTrigger=/*#__PURE__*/React__namespace.forwardRef(((e,n)=>{const u=i("ContextMenuTrigger"),l=React__namespace.useRef({x:0,y:0}),s=React__namespace.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),p=React__namespace.useRef(0),f=React__namespace.useCallback((()=>window.clearTimeout(p.current)),[]),d=e=>{l.current={x:e.clientX,y:e.clientY},u.onOpenChange(!0);};return React__namespace.useEffect((()=>f),[f]),/*#__PURE__*/React__namespace.createElement(x.Provider,{value:!1},/*#__PURE__*/React__namespace.createElement(index_module$1.Anchor,{virtualRef:s}),/*#__PURE__*/React__namespace.createElement(index_module$2.Primitive.span,_extends['default']({},e,{ref:n,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:index_module$3.composeEventHandlers(e.onContextMenu,(e=>{f(),e.preventDefault(),d(e);})),onPointerDown:index_module$3.composeEventHandlers(e.onPointerDown,m((e=>{f(),p.current=window.setTimeout((()=>d(e)),700);}))),onPointerMove:index_module$3.composeEventHandlers(e.onPointerMove,m(f)),onPointerCancel:index_module$3.composeEventHandlers(e.onPointerCancel,m(f)),onPointerUp:index_module$3.composeEventHandlers(e.onPointerUp,m(f))})))}));const x=/*#__PURE__*/React__namespace.createContext(!1);const ContextMenuContent=/*#__PURE__*/React__namespace.forwardRef(((e,o)=>{const n=i("ContextMenuContent"),r={...e,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)"}};return React__namespace.createElement(x.Provider,{value:!0},n.isRootMenu?/*#__PURE__*/React__namespace.createElement(l,_extends['default']({},r,{ref:o})):/*#__PURE__*/React__namespace.createElement(index_module$1.Content,_extends['default']({},r,{ref:o})))}));const l=/*#__PURE__*/React__namespace.forwardRef(((e,o)=>{const n=i("ContextMenuContent"),r=React__namespace.useRef(!1);return React__namespace.createElement(index_module$1.Content,_extends['default']({},e,{ref:o,portalled:!0,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:t=>{var o;null===(o=e.onCloseAutoFocus)||void 0===o||o.call(e,t),!t.defaultPrevented&&r.current&&t.preventDefault(),r.current=!1;},onInteractOutside:t=>{var o;null===(o=e.onInteractOutside)||void 0===o||o.call(e,t),t.defaultPrevented||n.modal||(r.current=!0);}}))}));const ContextMenuLabel=/*#__PURE__*/React__namespace.forwardRef(((e,o)=>/*#__PURE__*/React__namespace.createElement(index_module$1.Label,_extends['default']({},e,{ref:o}))));const ContextMenuItem=/*#__PURE__*/React__namespace.forwardRef(((e,o)=>/*#__PURE__*/React__namespace.createElement(index_module$1.Item,_extends['default']({},e,{ref:o}))));const ContextMenuCheckboxItem=/*#__PURE__*/React__namespace.forwardRef(((e,o)=>/*#__PURE__*/React__namespace.createElement(index_module$1.CheckboxItem,_extends['default']({},e,{ref:o}))));const ContextMenuRadioGroup=/*#__PURE__*/React__namespace.forwardRef(((e,o)=>/*#__PURE__*/React__namespace.createElement(index_module$1.RadioGroup,_extends['default']({},e,{ref:o}))));const ContextMenuRadioItem=/*#__PURE__*/React__namespace.forwardRef(((e,o)=>/*#__PURE__*/React__namespace.createElement(index_module$1.RadioItem,_extends['default']({},e,{ref:o}))));const ContextMenuItemIndicator=/*#__PURE__*/React__namespace.forwardRef(((e,o)=>/*#__PURE__*/React__namespace.createElement(index_module$1.ItemIndicator,_extends['default']({},e,{ref:o}))));function m(e){return t=>"mouse"!==t.pointerType?e(t):void 0}const Root=ContextMenu;const Trigger=ContextMenuTrigger;const Content=ContextMenuContent;const Label=ContextMenuLabel;const Item=ContextMenuItem;const CheckboxItem=ContextMenuCheckboxItem;const RadioGroup=ContextMenuRadioGroup;const RadioItem=ContextMenuRadioItem;const ItemIndicator=ContextMenuItemIndicator;

exports.CheckboxItem = CheckboxItem;
exports.Content = Content;
exports.ContextMenu = ContextMenu;
exports.ContextMenuCheckboxItem = ContextMenuCheckboxItem;
exports.ContextMenuContent = ContextMenuContent;
exports.ContextMenuItem = ContextMenuItem;
exports.ContextMenuItemIndicator = ContextMenuItemIndicator;
exports.ContextMenuLabel = ContextMenuLabel;
exports.ContextMenuRadioGroup = ContextMenuRadioGroup;
exports.ContextMenuRadioItem = ContextMenuRadioItem;
exports.ContextMenuTrigger = ContextMenuTrigger;
exports.Item = Item;
exports.ItemIndicator = ItemIndicator;
exports.Label = Label;
exports.RadioGroup = RadioGroup;
exports.RadioItem = RadioItem;
exports.Root = Root;
exports.Trigger = Trigger;
