'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var index_module$2 = require('../../react-id/dist/index.module.js');
var index_module$1 = require('../../react-menu/dist/index.module.js');
var index_module$3 = require('../../react-primitive/dist/index.module.js');
var index_module = require('../../react-use-controllable-state/dist/index.module.js');
var index_module$6 = require('../../react-context/dist/index.module.js');
var index_module$4 = require('../../react-compose-refs/dist/index.module.js');
var index_module$5 = require('../../primitive/dist/index.module.js');
var React = require('react');
var _extends = require('../../../@babel/runtime/helpers/esm/extends.js');

function _interopNamespace(e) {
	if (e && e.__esModule) return e;
	var n = Object.create(null);
	if (e) {
		Object.keys(e).forEach(function (k) {
			if (k !== 'default') {
				var d = Object.getOwnPropertyDescriptor(e, k);
				Object.defineProperty(n, k, d.get ? d : {
					enumerable: true,
					get: function () {
						return e[k];
					}
				});
			}
		});
	}
	n['default'] = e;
	return Object.freeze(n);
}

var React__namespace = /*#__PURE__*/_interopNamespace(React);

const[u,i]=index_module$6.createContext("DropdownMenu");const DropdownMenu=e=>{const{children:r,open:t,defaultOpen:a,onOpenChange:p,dir:c,modal:i=!0}=e,s=React__namespace.useContext(m),[f=!1,w]=index_module.useControllableState({prop:t,defaultProp:a,onChange:p}),g=React__namespace.useCallback((()=>w((e=>!e))),[w]);return s?/*#__PURE__*/React__namespace.createElement(u,{isRootMenu:!1,open:f,onOpenChange:w,onOpenToggle:g},/*#__PURE__*/React__namespace.createElement(index_module$1.Sub,{open:f,onOpenChange:w},r)):/*#__PURE__*/React__namespace.createElement(l,{dir:c,open:f,onOpenChange:w,onOpenToggle:g,modal:i},r)};const l=r=>{const{children:n,dir:t,open:a,onOpenChange:p,onOpenToggle:c,modal:i=!0}=r,l=React__namespace.useRef(null);return React__namespace.createElement(u,{isRootMenu:!0,triggerId:index_module$2.useId(),triggerRef:l,contentId:index_module$2.useId(),open:a,onOpenChange:p,onOpenToggle:c,modal:i},/*#__PURE__*/React__namespace.createElement(index_module$1.Root,{open:a,onOpenChange:p,dir:t,modal:i},n))};const DropdownMenuTrigger=/*#__PURE__*/React__namespace.forwardRef(((e,n)=>{const t=i("DropdownMenuTrigger");return t.isRootMenu?/*#__PURE__*/React__namespace.createElement(index_module$1.Anchor,{asChild:!0},/*#__PURE__*/React__namespace.createElement(index_module$3.Primitive.button,_extends['default']({type:"button",id:t.triggerId,"aria-haspopup":"menu","aria-expanded":!!t.open||void 0,"aria-controls":t.open?t.contentId:void 0,"data-state":t.open?"open":"closed"},e,{ref:index_module$4.composeRefs(n,t.triggerRef),onPointerDown:index_module$5.composeEventHandlers(e.onPointerDown,(e=>{0===e.button&&!1===e.ctrlKey&&(t.open||e.preventDefault(),t.onOpenToggle());})),onKeyDown:index_module$5.composeEventHandlers(e.onKeyDown,(e=>{[" ","Enter","ArrowDown"].includes(e.key)&&(e.preventDefault(),t.onOpenChange(!0));}))}))):null}));const m=/*#__PURE__*/React__namespace.createContext(!1);const DropdownMenuContent=/*#__PURE__*/React__namespace.forwardRef(((e,r)=>{const n=i("DropdownMenuContent"),t={...e,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)"}};return React__namespace.createElement(m.Provider,{value:!0},n.isRootMenu?/*#__PURE__*/React__namespace.createElement(s,_extends['default']({},t,{ref:r})):/*#__PURE__*/React__namespace.createElement(index_module$1.Content,_extends['default']({},t,{ref:r})))}));const s=/*#__PURE__*/React__namespace.forwardRef(((e,r)=>{const{portalled:n=!0,...t}=e,a=i("DropdownMenuContent"),p=React__namespace.useRef(!1);return a.isRootMenu?/*#__PURE__*/React__namespace.createElement(index_module$1.Content,_extends['default']({id:a.contentId,"aria-labelledby":a.triggerId},t,{ref:r,portalled:n,onCloseAutoFocus:o=>{var r,n;(null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,o),o.defaultPrevented)||(p.current||null===(n=a.triggerRef.current)||void 0===n||n.focus(),o.preventDefault());p.current=!1;},onInteractOutside:o=>{var r,n;if(null===(r=e.onInteractOutside)||void 0===r||r.call(e,o),!o.defaultPrevented){const e=o.detail.originalEvent,r=0===e.button&&!0===e.ctrlKey,n=2===e.button||r;a.modal&&!n||(p.current=!0);}const t=o.target;(null===(n=a.triggerRef.current)||void 0===n?void 0:n.contains(t))&&o.preventDefault();}})):null}));const DropdownMenuLabel=/*#__PURE__*/React__namespace.forwardRef(((e,r)=>/*#__PURE__*/React__namespace.createElement(index_module$1.Label,_extends['default']({},e,{ref:r}))));const DropdownMenuItem=/*#__PURE__*/React__namespace.forwardRef(((e,r)=>/*#__PURE__*/React__namespace.createElement(index_module$1.Item,_extends['default']({},e,{ref:r}))));const DropdownMenuTriggerItem=/*#__PURE__*/React__namespace.forwardRef(((e,r)=>/*#__PURE__*/React__namespace.createElement(index_module$1.SubTrigger,_extends['default']({},e,{ref:r}))));const DropdownMenuCheckboxItem=/*#__PURE__*/React__namespace.forwardRef(((e,r)=>/*#__PURE__*/React__namespace.createElement(index_module$1.CheckboxItem,_extends['default']({},e,{ref:r}))));const DropdownMenuRadioGroup=/*#__PURE__*/React__namespace.forwardRef(((e,r)=>/*#__PURE__*/React__namespace.createElement(index_module$1.RadioGroup,_extends['default']({},e,{ref:r}))));const DropdownMenuRadioItem=/*#__PURE__*/React__namespace.forwardRef(((e,r)=>/*#__PURE__*/React__namespace.createElement(index_module$1.RadioItem,_extends['default']({},e,{ref:r}))));const DropdownMenuItemIndicator=/*#__PURE__*/React__namespace.forwardRef(((e,r)=>/*#__PURE__*/React__namespace.createElement(index_module$1.ItemIndicator,_extends['default']({},e,{ref:r}))));const DropdownMenuArrow=/*#__PURE__*/React__namespace.forwardRef(((e,r)=>/*#__PURE__*/React__namespace.createElement(index_module$1.Arrow,_extends['default']({},e,{ref:r}))));const Root=DropdownMenu;const Trigger=DropdownMenuTrigger;const Content=DropdownMenuContent;const Label=DropdownMenuLabel;const Item=DropdownMenuItem;const TriggerItem=DropdownMenuTriggerItem;const CheckboxItem=DropdownMenuCheckboxItem;const RadioGroup=DropdownMenuRadioGroup;const RadioItem=DropdownMenuRadioItem;const ItemIndicator=DropdownMenuItemIndicator;const Arrow=DropdownMenuArrow;

exports.Arrow = Arrow;
exports.CheckboxItem = CheckboxItem;
exports.Content = Content;
exports.DropdownMenu = DropdownMenu;
exports.DropdownMenuArrow = DropdownMenuArrow;
exports.DropdownMenuCheckboxItem = DropdownMenuCheckboxItem;
exports.DropdownMenuContent = DropdownMenuContent;
exports.DropdownMenuItem = DropdownMenuItem;
exports.DropdownMenuItemIndicator = DropdownMenuItemIndicator;
exports.DropdownMenuLabel = DropdownMenuLabel;
exports.DropdownMenuRadioGroup = DropdownMenuRadioGroup;
exports.DropdownMenuRadioItem = DropdownMenuRadioItem;
exports.DropdownMenuTrigger = DropdownMenuTrigger;
exports.DropdownMenuTriggerItem = DropdownMenuTriggerItem;
exports.Item = Item;
exports.ItemIndicator = ItemIndicator;
exports.Label = Label;
exports.RadioGroup = RadioGroup;
exports.RadioItem = RadioItem;
exports.Root = Root;
exports.Trigger = Trigger;
exports.TriggerItem = TriggerItem;
